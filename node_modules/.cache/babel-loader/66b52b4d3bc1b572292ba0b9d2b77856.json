{"ast":null,"code":"import _slicedToArray from \"C:\\\\TTCodebase\\\\React\\\\MovieApp\\\\fetch-movies\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"C:\\\\TTCodebase\\\\React\\\\MovieApp\\\\fetch-movies\\\\src\\\\SearchMovieForm.js\";\nimport MovieDetails from './MovieDetails';\nimport SavedMoviesList from './SavedMoviesList';\nimport './SearchMovieForm.css';\nimport React, { useState, useEffect } from 'react';\nimport Axios from 'axios';\n\nfunction SearchMovieForm() {\n  var _useState = useState(null),\n      _useState2 = _slicedToArray(_useState, 2),\n      data = _useState2[0],\n      setData = _useState2[1];\n\n  function getData(val) {\n    setData(val.target.value);\n  } //used as form key, which changes everytime on click as +1 and changes the id for the form, which resets it\n\n\n  var _useState3 = useState(0),\n      _useState4 = _slicedToArray(_useState3, 2),\n      formKey = _useState4[0],\n      setFormKey = _useState4[1]; //Read data from saved Datasets\n\n\n  var _useState5 = useState([]),\n      _useState6 = _slicedToArray(_useState5, 2),\n      savedmovies = _useState6[0],\n      setSavedMovies = _useState6[1];\n\n  var _useState7 = useState(false),\n      _useState8 = _slicedToArray(_useState7, 2),\n      showallmovies = _useState8[0],\n      setShowAllMovies = _useState8[1];\n\n  var _useState9 = useState(data),\n      _useState10 = _slicedToArray(_useState9, 2),\n      moviename = _useState10[0],\n      setMoviename = _useState10[1];\n\n  var _useState11 = useState(false),\n      _useState12 = _slicedToArray(_useState11, 2),\n      showmovie = _useState12[0],\n      setShowmovie = _useState12[1];\n\n  var handleClick = function handleClick(mName) {\n    mName = document.getElementById('movieId').value;\n    setMoviename(mName);\n    console.log('Searching for ' + moviename);\n    setShowmovie(true);\n    console.log('showmovie: ' + showmovie);\n    setFormKey(formKey + Math.random());\n    console.log('Search counter: ' + formKey);\n  }; //useEffect used for reading from DB\n\n\n  useEffect(function () {\n    Axios.get('http://localhost:3001/read').then(function (response) {\n      console.log(\"Data from DB: \", response);\n      setShowmovie(response);\n    });\n  }, []);\n\n  var showAllClick = function showAllClick() {\n    console.log(\"Show All Saved Movie Button clicked\");\n    setShowAllMovies(true);\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"SearchMovieForm\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    id: \"movieId\",\n    type: \"text\",\n    name: \"movieName\",\n    placeholder: \"Enter movie name to search here\",\n    onChange: getData,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 13\n    }\n  }, \"Searching for \\\"\", data, \"\\\" ?\"), /*#__PURE__*/React.createElement(\"button\", {\n    name: \"search\",\n    onClick: function onClick() {\n      return handleClick();\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 13\n    }\n  }, \"Search \"), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"showAll\",\n    name: \"showall\",\n    onClick: function onClick() {\n      return showAllClick();\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 13\n    }\n  }, \"Show All Saved Movies \"), /*#__PURE__*/React.createElement(\"div\", {\n    id: \"movieSectionId\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 13\n    }\n  }, showmovie ? /*#__PURE__*/React.createElement(MovieDetails, {\n    moviename: moviename,\n    key: formKey + 1,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 30\n    }\n  }) : null, /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 17\n    }\n  }), showallmovies ? /*#__PURE__*/React.createElement(SavedMoviesList, {\n    savedmovies: savedmovies,\n    key: formKey + 2,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 34\n    }\n  }) : null));\n}\n\nexport default SearchMovieForm;","map":{"version":3,"sources":["C:/TTCodebase/React/MovieApp/fetch-movies/src/SearchMovieForm.js"],"names":["MovieDetails","SavedMoviesList","React","useState","useEffect","Axios","SearchMovieForm","data","setData","getData","val","target","value","formKey","setFormKey","savedmovies","setSavedMovies","showallmovies","setShowAllMovies","moviename","setMoviename","showmovie","setShowmovie","handleClick","mName","document","getElementById","console","log","Math","random","get","then","response","showAllClick"],"mappings":"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","sourcesContent":["import MovieDetails from './MovieDetails';\r\nimport SavedMoviesList from './SavedMoviesList';\r\nimport './SearchMovieForm.css';\r\nimport React, { useState, useEffect } from 'react';\r\nimport Axios from 'axios'\r\n\r\nfunction SearchMovieForm() {\r\n    const [data, setData] = useState(null);\r\n    function getData(val) {\r\n        setData(val.target.value)\r\n    }\r\n\r\n    //used as form key, which changes everytime on click as +1 and changes the id for the form, which resets it\r\n    const [formKey, setFormKey] = useState(0);\r\n\r\n    //Read data from saved Datasets\r\n    const [savedmovies, setSavedMovies] = useState([]);\r\n    const [showallmovies, setShowAllMovies] = useState(false);\r\n\r\n    const [moviename, setMoviename] = useState(data);\r\n    const [showmovie, setShowmovie] = useState(false);\r\n\r\n    const handleClick = (mName) => {\r\n        mName = document.getElementById('movieId').value;\r\n        setMoviename(mName);\r\n        console.log('Searching for ' + moviename);\r\n        setShowmovie(true);\r\n        console.log('showmovie: ' + showmovie);\r\n        setFormKey(formKey + Math.random())\r\n        console.log('Search counter: ' + formKey)\r\n\r\n    }\r\n\r\n    //useEffect used for reading from DB\r\n    useEffect(() => {\r\n        Axios.get('http://localhost:3001/read').then((response) => {\r\n            console.log(\"Data from DB: \", response);\r\n            setShowmovie(response);\r\n        })\r\n    }, [])\r\n\r\n    const showAllClick = () => {\r\n        console.log(\"Show All Saved Movie Button clicked\");\r\n        setShowAllMovies(true);\r\n    }\r\n\r\n    return (\r\n        <div className='SearchMovieForm'>\r\n            <input id=\"movieId\" type=\"text\" name=\"movieName\" placeholder='Enter movie name to search here' onChange={getData} />\r\n            <h3>Searching for \"{data}\" ?</h3>\r\n            <button name='search' onClick={() => handleClick()} >Search </button>\r\n            <button className='showAll' name='showall' onClick={() => showAllClick()} >Show All Saved Movies </button>\r\n            <div id='movieSectionId'>\r\n                {showmovie ? <MovieDetails moviename={moviename} key={formKey + 1} /> : null}\r\n                <br></br>\r\n                {showallmovies ? <SavedMoviesList savedmovies={savedmovies} key={formKey + 2} /> : null}\r\n            </div>\r\n\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default SearchMovieForm;"]},"metadata":{},"sourceType":"module"}